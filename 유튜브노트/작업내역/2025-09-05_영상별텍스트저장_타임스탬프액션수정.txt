작업 날짜: 2025-09-05
작업명: 영상별 텍스트 저장 및 타임스탬프 액션 수정

구현 내용:
영상별로 고유한 텍스트 저장 시스템 구현 및 타임스탬프 볼륨/속도 적용 로직 수정

문제 상황:
1. 텍스트가 모든 영상에서 공통으로 저장되어 영상별 구분이 없음
2. 타임스탬프 구간 진입 시 볼륨/속도가 즉시 적용되지 않는 문제
3. 타임스탬프 설정이 영상 재생에 영향을 주지 않음

수정 파일 및 변경 내용:

1. client/src/components/NoteArea.tsx

   수정됨:
   - noteText 초기화: localStorage.getItem('noteText') → localStorage.getItem(`noteText_${currentVideoId}`)
   - 자동 저장 키: 'noteText' → `noteText_${currentVideoId}`
   - 영상 변경 시 텍스트 로드 로직 추가
   - 타임스탬프 활성화 조건 완화: 차이값 검사 제거하고 무조건 적용
   
   이전:
   Math.abs(player.getVolume() - currentTimestamp.volume) > 1
   Math.abs(player.getPlaybackRate() - currentTimestamp.playbackRate) > 0.01
   
   이후:
   currentTimestamp.volume !== undefined
   currentTimestamp.playbackRate !== undefined

데이터 구조:
localStorage 저장:
- 키: `noteText_${currentVideoId}` (영상별 고유 키)
- 값: 텍스트 에리어의 전체 내용 (타임스탬프 포함)

실시간 파싱 결과:
{
  timeInSeconds: number,     // 시작 시간(초)
  timeFormatted: string,     // HH:MM:SS 형식
  duration: number,          // 구간 길이(초)
  volume: number,            // 볼륨 (0-100)
  playbackRate: number      // 재생 속도 (0.25-2.0)
}

삭제된 기능:
- 모달에서 timestamps 배열에 직접 추가하는 로직 (중복 제거)

추가된 기능:
- 로컬스토리지 기반 텍스트 지속성
- 텍스트 변경 시 실시간 타임스탬프 파싱
- 초기 로드 시 저장된 타임스탬프 자동 인식
- 직접 입력한 타임스탬프 즉시 프로그레스 바 반영
- 타임스탬프 순서 변경 시 실시간 반영

보존된 기능:
- 기존 타임스탬프 형식 완전 호환
- 모달을 통한 타임스탬프 생성
- 자동 점프 및 정지 재생 기능
- 데이터베이스 동기화 (currentSessionId 있을 때)

작업 결과:
1. 새로고침해도 텍스트 내용 유지
2. 텍스트에 직접 입력한 타임스탬프 즉시 인식 및 작동
3. 타임스탬프 순서 변경 시 그 순서대로 자동 점프 작동
4. 모달과 텍스트 입력 방식 모두 동일하게 작동
5. 프로그레스 바 마커 실시간 업데이트