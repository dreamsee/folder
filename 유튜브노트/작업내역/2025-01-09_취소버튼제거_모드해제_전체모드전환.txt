작업 날짜: 2025-01-09
작업명: 취소 버튼 제거 및 모드 해제시 전체 모드로 전환

구현 내용:
프리셋 편집에서 취소 버튼과 관련 코드를 제거하고, 모드 해제시 전체 모드로 전환하도록 수정

수정 파일 및 변경 내용:

1. client/src/components/SettingsPanel.tsx

   삭제됨:
   const [originalPresetName, setOriginalPresetName] = useState<string>("");
   const [originalPresetStates, setOriginalPresetStates] = useState<{ 최소: boolean; 노트: boolean }>({
     최소: false,
     노트: false
   });
   
   setOriginalPresetName(currentName);
   setOriginalPresetStates({ ...presetStates }); // 현재 토글 상태 백업
   
   <Button size="sm" variant="outline" onClick={() => {
     // 취소 시 원래 이름과 토글 상태로 복원
     if (selectedPreset) {
       // 이름 복원
       설정업데이트("프리셋",
         selectedPreset === "최소" ? "최소모드명" : "노트모드명",
         originalPresetName,
         false  // localStorage에 저장하지 않음
       );
       
       // 토글 상태 복원
       setPresetStates(originalPresetStates);
       
       // 복원된 토글 상태에 따라 프리셋 적용
       if (originalPresetStates.최소) {
         프리셋적용("최소");
       } else if (originalPresetStates.노트) {
         프리셋적용("노트");
       } else {
         프리셋적용("기본");
       }
     }
     setSelectedPreset(null);
     setTempPresetName("");
     setOriginalPresetName("");
   }}>
     취소
   </Button>

   수정됨:
   변경 전:
   // 임시 편집 상태 (취소 시 복원용)
   const [tempPresetName, setTempPresetName] = useState<string>("");
   const [originalPresetName, setOriginalPresetName] = useState<string>("");
   const [originalPresetStates, setOriginalPresetStates] = useState<{ 최소: boolean; 노트: boolean }>({
     최소: false,
     노트: false
   });
   
   변경 후:
   // 임시 편집 상태
   const [tempPresetName, setTempPresetName] = useState<string>("");

   변경 전:
   // 편집 시작 시 현재 이름과 토글 상태를 임시 상태에 저장
   const currentName = 프리셋 === "최소" 
     ? (settings.프리셋?.최소모드명 || "최소 모드")
     : (settings.프리셋?.노트모드명 || "노트 모드");
   setTempPresetName(currentName);
   setOriginalPresetName(currentName);
   setOriginalPresetStates({ ...presetStates }); // 현재 토글 상태 백업
   
   변경 후:
   // 편집 시작 시 현재 이름을 임시 상태에 저장
   const currentName = 프리셋 === "최소" 
     ? (settings.프리셋?.최소모드명 || "최소 모드")
     : (settings.프리셋?.노트모드명 || "노트 모드");
   setTempPresetName(currentName);

   변경 전:
   // 토글 off시: 현재 설정을 해당 모드에 저장하고 기본 설정으로 복원
   savePresetSettings(프리셋, settings);
   프리셋적용("기본");
   
   변경 후:
   // 토글 off시: 현재 설정을 해당 모드에 저장하고 전체 모드로 전환
   savePresetSettings(프리셋, settings);
   프리셋적용("전체");

   변경 전:
   case "최소":
     // 최소 모드: 사용자 설정 완전 유지 (이름과 토글 상태만 관리)
     새설정 = { ...settings };
     break;
   case "노트":
     // 노트 모드: 사용자 설정 완전 유지 (이름과 토글 상태만 관리)
     새설정 = { ...settings };
     break;
   
   변경 후:
   case "최소":
   case "노트":
     // 프리셋 모드: 저장된 설정이 있으면 로드, 없으면 현재 설정 유지
     const savedSettings = loadPresetSettings(프리셋);
     if (savedSettings) {
       새설정 = savedSettings;
     } else {
       // 첫 사용시 현재 설정을 해당 모드 설정으로 저장하고 사용
       새설정 = { ...settings };
       savePresetSettings(프리셋, 새설정);
     }
     break;

   변경 전:
   // 모드 켜기: 저장된 설정값 복원 또는 현재 설정 사용
   const savedSettings = loadPresetSettings(프리셋);
   if (savedSettings) {
     onSettingsChange(savedSettings);
   } else {
     // 첫 사용시 현재 설정을 해당 모드 설정으로 저장
     savePresetSettings(프리셋, settings);
   }
   
   변경 후:
   // 모드 켜기: 프리셋적용 함수 사용
   프리셋적용(프리셋);

삭제된 기능:
- 취소 버튼 제거
- 원본 상태 백업 및 복원 기능 제거
- originalPresetName, originalPresetStates 상태 변수 제거

수정된 기능:
- 모드 해제시 기본 설정 대신 전체 모드로 전환
- 프리셋적용 함수에서 최소/노트 모드 선택시 저장된 설정 자동 로드
- 중복 로직 제거로 코드 단순화

데이터 구조:
기존 localStorage 구조 유지:
- presetToggleStates: 토글 상태 저장
- presetSettings: 각 모드별 상세 설정 저장