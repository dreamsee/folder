유튜브노트 프로젝트 작업 추적 파일
==========================================

프로젝트 위치: /data/data/com.termux/files/home/folder/유튜브노트
깃허브 저장소: https://github.com/dreamsee/folder (유튜브노트 폴더)

현재 진행 상황
===============

최근 완료된 작업 (2025-09-07):
- 타임스탬프에서 시간 정보를 가져와 오버레이 생성 기능
- 텍스트 정렬 기능 (좌측/중앙/우측) 및 빠른 설정 연동
- 영상별 오버레이 저장 시스템 (localStorage에 videoId별 분리 저장)
- 재생 컨트롤 설정 독립성 개선 (속도 토글이 다른 기능 숨기던 문제 해결)

다음 해결해야 할 작업들
======================

1. 빠른 설정 프리셋 동적 저장 시스템 ★★★ 높음

   현재 문제:
   - SettingsPanel의 최소모드/노트모드 버튼을 누르면 항상 고정된 설정값으로만 변경됨
   - 사용자가 토글을 조정해도 프리셋에 반영되지 않음

   개선 요구사항:
   - 사용자가 현재 토글 상태를 해당 모드(최소/노트)의 새로운 기본값으로 저장 가능
   - 다음에 해당 모드 버튼을 누르면 사용자가 마지막으로 설정한 값들로 적용

   작업 계획:
   a) SettingsPanel.tsx의 프리셋 적용 로직 분석
      - 프리셋적용() 함수에서 고정값 대신 저장된 사용자 설정 활용
      - localStorage에 각 모드별 사용자 커스텀 설정 저장 구조 설계

   b) 프리셋 저장 기능 구현
      - "현재 설정을 [모드명]으로 저장" 버튼 추가
      - 현재 uiSettings 상태를 해당 모드의 커스텀 설정으로 저장
      - localStorage 키: 'preset_최소모드', 'preset_노트모드' 등

   c) 프리셋 로드 로직 수정
      - 저장된 커스텀 설정이 있으면 우선 사용
      - 없으면 기존 기본값 사용 (fallback)

   관련 파일:
   - client/src/components/SettingsPanel.tsx (프리셋 로직)
   - client/src/pages/HomePage.tsx (설정 상태 관리)

2. 재생 기본값 속도 세밀 편집 기능 ★★ 중간

   현재 상황:
   - 재생 기본값에서 0.25x, 0.5x, 0.75x, 1x, 1.25x, 1.5x, 1.75x, 2x 고정 선택만 가능

   개선 요구사항:
   - 고정 유지: 0.25x, 1x, 2x는 변경 불가능
   - 편집 가능: 나머지 값들(0.5x, 0.75x, 1.25x, 1.5x, 1.75x)에 연필 아이콘 추가
   - 세밀 조정: 편집 모드에서 0.05 단위로 조정 가능
   - 저장: 사용자가 수정한 값들을 localStorage에 저장하여 지속 사용

   작업 계획:
   a) SettingsPanel.tsx의 재생 기본값 섹션 분석
      - 현재 Select 컴포넌트의 SelectItem들 구조 파악
      - 편집 가능/불가능 항목 구분 로직 설계

   b) 편집 가능한 속도값 UI 구현
      - 연필 아이콘 버튼 추가 (편집 가능한 항목만)
      - 편집 모드 상태 관리 (editing 상태)
      - 0.05 단위 조정 가능한 입력 필드 또는 슬라이더

   c) 커스텀 속도값 저장 시스템
      - localStorage에 사용자 정의 속도값들 저장
      - 키: 'customPlaybackRates' 또는 'userSpeedSettings'
      - 저장된 값들을 SelectItem 목록에 반영

   d) UI 개선사항
      - 기본값(0.25, 1, 2)과 사용자 정의값 시각적 구분
      - 편집 모드에서 취소/저장 버튼
      - 값 검증 (최소 0.25, 최대 2.0 범위 내)

   관련 파일:
   - client/src/components/SettingsPanel.tsx (재생 기본값 탭)

GitHub에서 파일 찾는 요령 및 방법
================================

1. 주요 파일 위치
   - client/src/pages/HomePage.tsx: 메인 페이지 (전체 레이아웃과 상태 관리)
   - client/src/components/SettingsPanel.tsx: 우측 설정 패널 (톱니바퀴 버튼)
   - client/src/components/NoteArea.tsx: 노트 영역 및 재생 컨트롤
   - client/src/components/OverlayInput.tsx: 오버레이 입력 패널
   - client/src/components/TextOverlay.tsx: 화면 위 텍스트 오버레이

2. 파일에서 특정 기능 찾는 방법
   GitHub에서 파일 열고 Ctrl+F로 다음 키워드 검색:
   - 프리셋 관련: "프리셋적용", "최소모드", "노트모드", "preset"
   - 재생속도 관련: "defaultPlaybackRate", "재생 기본값", "playback-defaults"
   - 설정 저장: "localStorage", "handleSettingChange"
   - UI 요소: "Switch", "Select", "SelectItem", "Button"

작업 시 주의사항
===============

1. 기존 작동하는 기능을 건드리지 말 것
2. localStorage 키 충돌 방지를 위해 명확한 네이밍 사용
3. 변경 전후 반드시 테스트
4. CLAUDE.md의 작업 규칙 준수 (마크다운/이모티콘 사용 금지)
5. 작업내역 상세 기록 필수

긴급도 및 우선순위
==================

★★★ 높음: 빠른 설정 프리셋 동적 저장 (사용자 편의성 크게 향상)
★★ 중간: 재생 기본값 속도 세밀 편집 (고급 사용자 기능)