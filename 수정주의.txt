수정시 주의사항 및 Best Practice 모음
=======================================

중요한 코드 수정 주의사항:

타임스탬프 시스템 수정 주의사항:
- NoteArea.tsx 자동 감지 로직은 lastActiveIndex + 1부터 체크함
- 더블클릭시 clickedIndex - 1로 설정하는 이유: 자동 감지 순서 때문
- activeTimestamp 설정/미설정에 따라 자동 이탈 처리가 달라짐
- 절대 변경 금지: clickedIndex로 설정하면 자동 감지가 못 찾아서 이탈 로직 실행됨
- 타임스탬프 파싱 형식 변경시 YouTubePlayer.tsx 데이터 구조도 함께 확인 필요

왼쪽탭 레이아웃 수정 주의사항:
- 왼쪽탭 레이아웃 수정시 NoteArea.tsx, LeftSidebarTabs.tsx, SettingsPanel.tsx 연동 확인 필요
- uiSettings?.왼쪽탭레이아웃?.사용 조건부 렌더링 시스템이 모든 관련 컴포넌트에 일관되게 적용되어야 함
- 세로 스크롤 문제가 재발하지 않도록 컴팩트한 탭 기반 UI 유지 필요

JSX 문법 및 React 컴포넌트 수정 주의사항:
- 복잡한 조건부 렌더링시 중괄호 매칭 주의 (특히 삼항 연산자 중첩)
- 큰 조건부 블록 편집시 전체 구조를 파악하고 단계별로 수정
- 한 번에 여러 기능을 동시에 수정하지 말고 기능별로 분리해서 작업

UI/UX 디자인 수정 주의사항:
- 최소화 상태에서 스크롤바가 나타나지 않도록 overflow 처리 필요
- 각 탭별 고유 색상 시스템 유지 (노트: #8b5cf6, 화면글자: #10b981, 돋보기: #f59e0b)
- 모바일 대응시 터치 스크롤 최적화 및 스크롤바 숨김 처리 필요

테스트 환경 수정 주의사항:
- TestOverlayPage, TestTimestampPage 등은 메인 앱과 독립적으로 동작해야 함
- 포트 설정 변경시 server/index.ts와 client/vite.config.ts 모두 확인
- 오버레이 표시 문제 발생시 useEffect 의존성 배열과 실시간 업데이트 시스템 점검

데이터 구조 수정 주의사항:
- availableTimestamps 타입 변경시 관련된 모든 컴포넌트의 데이터 처리 로직 확인
- localStorage 구조 변경시 기존 사용자 데이터 호환성 고려
- 상태 관리 방식 변경시 전체 컴포넌트 트리에서 영향받는 부분 검토

코드 편집시 Best Practice:

1. 파일 편집 원칙
   - Edit 도구 사용 시 old_string을 최소한으로 정확히 지정
   - 수정하려는 부분과 관련 없는 코드는 절대 포함하지 않음
   - 큰 변경이 필요한 경우 단계별로 나누어 작업
   - 변경 전 해당 섹션의 내용을 정확히 확인 후 편집

2. 주석 작성 필수
   - 모든 주요 로직에는 설명 주석 필수
   - 절대 변경 금지 주석: "절대 변경 금지:" 로 시작
   - 중요 동작 설명 주석: "중요:" 로 시작
   - 로직 연관성 주석: 다른 코드와의 연관성 명시
   - 버그 방지 주석: 과거 버그 경험을 바탕으로 작성

3. 기능 누적 주석 작성법
   - 기존 기능 + & + 새 기능 형태로 누적 작성
   - 예: {/* 별 선택 영역 (재선택 가능 & 고정 위치) */}
   - 목적: 해당 코드가 수행하는 모든 기능을 한눈에 파악 가능

4. 테스트 파일 관리
   - SimpleNoteArea.tsx 등 테스트 파일은 삭제하지 말고 참고용으로 보관
   - 원본 파일 수정 시 테스트 파일의 검증된 로직 참고
   - 파일 상단에 참고용임을 명시하는 주석 추가

문서 관리 주의사항:

1. 각 문서별 역할 분리 준수
   - 주요파일위치.txt: 파일 위치와 기능별 코드 매핑만
   - 변경사항.txt: 날짜별 변경 이력과 주의사항
   - 디자인.txt: 색상, 폰트, 마진 등 디자인 시스템
   - 수정주의.txt: 수정시 주의사항과 Best Practice
   - 작동로직.txt: 시스템 동작 원리와 알고리즘

2. 문서 업데이트 원칙
   - 중복 내용 방지: 각 문서의 목적에 맞는 내용만 기록
   - 변경사항은 최신이 위에 오도록 내림차순 정렬
   - 마크다운 형식 사용하지 말고 일반 텍스트로만 작성

3. 파일 별칭 시스템 활용
   - 주요파일위치.txt: 위치파일, 구조파일, 파일매핑 등
   - 작동로직.txt: 로직파일, 시스템로직, 작동원리 등
   - 디자인.txt: 디자인파일, 스타일파일, UI파일 등
   - 수정주의.txt: 주의파일, 주의사항, Best Practice파일 등

사용자 요청 처리 주의사항:

1. 이해 확인 우선 원칙
   - "수정", "구현", "해줘" 등 명령어가 없는 경우
   - 반드시 "이해한 내용:" 형태로 먼저 확인
   - 사용자 승인 후에만 작업 시작

2. 작업 시작 조건
   - "수정해줘", "구현해", "만들어줘" 등 명확한 지시어 필요
   - 단순 문제점 언급만으로는 즉시 작업하지 않음

깃허브 업데이트 주의사항:

절대 금지 사항:
- git add . 또는 git add -A 사용 금지
- 다른 폴더 삭제나 수정 절대 금지
- GitHub에 있는 다른 프로젝트 폴더들 건드리지 말 것

올바른 방법:
```bash
# 유튜브노트 폴더의 변경사항만 선택적으로 추가
git add 유튜브노트/

# 커밋 (유튜브노트 변경사항만)
git commit -m "커밋 메시지"

# 푸시 (다른 폴더는 건드리지 않음)
git push
```

이유:
- 로컬에는 유튜브노트만 있지만 GitHub에는 여러 프로젝트가 있음
- 다른 폴더들은 컴퓨터에서 관리함
- 여기서는 유튜브노트만 작업하고 그것만 업데이트

코드 검토 체크리스트:

1. 기능 동작 확인
   - 새로 추가된 기능이 의도대로 작동하는가?
   - 기존 기능에 영향을 주지 않는가?
   - 에러나 경고 메시지가 없는가?

2. UI/UX 검토
   - 디자인 시스템과 일관성이 유지되는가?
   - 모바일 환경에서도 정상 작동하는가?
   - 접근성 고려사항이 반영되었는가?

3. 코드 품질
   - 주석이 충분히 작성되었는가?
   - 변수명과 함수명이 명확한가?
   - 중복 코드가 없는가?

4. 문서 업데이트
   - 관련 문서들이 모두 업데이트되었는가?
   - 파일 위치 정보가 정확히 기록되었는가?
   - 변경 이력이 적절히 기록되었는가?

이 주의사항들을 준수하여 안정적이고 유지보수가 용이한 코드를 작성하세요.