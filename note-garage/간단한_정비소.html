<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš— ê°„ë‹¨í•œ ë…¸íŠ¸ ì •ë¹„ì†Œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .toolbar {
            height: 60px;
            background: #343a40;
            color: white;
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 20px;
            font-weight: 600;
        }
        
        .main-container {
            display: flex;
            flex: 1;
            height: calc(100vh - 60px);
        }
        
        .chat-panel {
            width: 30%;
            background: #f8f9fa;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
        }
        
        .editor-panel {
            width: 35%;
            background: #2d3748;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
        }
        
        .preview-panel {
            width: 35%;
            background: white;
            display: flex;
            flex-direction: column;
        }
        
        .panel-header {
            height: 50px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-weight: 600;
            border-bottom: 1px solid #ddd;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 15px;
        }
        
        .message-content {
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 90%;
        }
        
        .ai-message .message-content {
            background: #e3f2fd;
            color: #1565c0;
        }
        
        .user-message .message-content {
            background: #2196f3;
            color: white;
            margin-left: auto;
        }
        
        .chat-input-area {
            padding: 15px;
            border-top: 1px solid #ddd;
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            resize: none;
        }
        
        .send-button {
            padding: 10px 20px;
            background: #2196f3;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .code-editor {
            flex: 1;
            padding: 15px;
            background: #2d3748;
            color: #e2e8f0;
            border: none;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
        }
        
        .preview-iframe {
            flex: 1;
            border: none;
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ íˆ´ë°” -->
    <div class="toolbar">
        <div class="logo">ğŸš— ë…¸íŠ¸ ì •ë¹„ì†Œ</div>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="main-container">
        <!-- ì™¼ìª½: AI ì±„íŒ… -->
        <div class="chat-panel">
            <div class="panel-header">ğŸ’¬ AI ì •ë¹„ì‚¬</div>
            <div class="chat-messages" id="chatMessages">
                <div class="message ai-message">
                    <div class="message-content">
                        ì•ˆë…•í•˜ì„¸ìš”! ë…¸íŠ¸ ì •ë¹„ì†Œì…ë‹ˆë‹¤ ğŸš—<br><br>
                        ë‹¤ìŒê³¼ ê°™ì´ ë§í•´ë³´ì„¸ìš”:<br>
                        â€¢ "ë°°ê²½ì„ íŒŒë€ìƒ‰ìœ¼ë¡œ ë°”ê¿”ì¤˜"<br>
                        â€¢ "ì œëª©ì„ ë” í¬ê²Œ ë§Œë“¤ì–´ì¤˜"<br>
                        â€¢ "ë²„íŠ¼ ìƒ‰ìƒì„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í•´ì¤˜"
                    </div>
                </div>
            </div>
            <div class="chat-input-area">
                <textarea class="chat-input" id="chatInput" placeholder="AIì—ê²Œ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                <button class="send-button" onclick="sendMessage()">ì „ì†¡</button>
            </div>
        </div>

        <!-- ê°€ìš´ë°: ì½”ë“œ ì—ë””í„° -->
        <div class="editor-panel">
            <div class="panel-header" style="background: #4a5568; color: white;">ğŸ“ ì½”ë“œ í¸ì§‘ê¸°</div>
            <textarea class="code-editor" id="codeEditor" spellcheck="false"></textarea>
        </div>

        <!-- ì˜¤ë¥¸ìª½: ë¯¸ë¦¬ë³´ê¸° -->
        <div class="preview-panel">
            <div class="panel-header">ğŸ‘ï¸ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°</div>
            <iframe class="preview-iframe" id="previewFrame"></iframe>
        </div>
    </div>

    <script>
        // ì´ˆê¸° HTML ì½”ë“œ
        const initialCode = `<!DOCTYPE html>
<html>
<head>
    <style>
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        
        .demo-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .demo-button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ì•ˆë…•í•˜ì„¸ìš”! ë…¸íŠ¸ ì •ë¹„ì†Œì…ë‹ˆë‹¤ ğŸš—</h1>
        <p>AIì™€ í•¨ê»˜ ì´ í˜ì´ì§€ë¥¼ ìˆ˜ì •í•´ë³´ì„¸ìš”!</p>
        <button class="demo-button" onclick="alert('ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰')">í´ë¦­í•´ë³´ì„¸ìš”!</button>
    </div>
</body>
</html>`;

        // ì´ˆê¸°í™”
        document.getElementById('codeEditor').value = initialCode;
        updatePreview();
        
        // ì½”ë“œ ì—ë””í„° ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
        document.getElementById('codeEditor').addEventListener('input', updatePreview);

        function updatePreview() {
            const code = document.getElementById('codeEditor').value;
            const frame = document.getElementById('previewFrame');
            frame.srcdoc = code;
        }

        function addMessage(type, content) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = content.replace(/\n/g, '<br>');
            
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addMessage('user', message);
            input.value = '';

            // ê°„ë‹¨í•œ AI ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
            setTimeout(() => {
                let response = 'ë„¤, ë””ìì¸ì„ ë³€ê²½í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ¨';
                let codeChange = '';

                const lowerMessage = message.toLowerCase();
                if (lowerMessage.includes('íŒŒë€') || lowerMessage.includes('blue')) {
                    response = 'ë°°ê²½ìƒ‰ì„ íŒŒë€ìƒ‰ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤! ğŸ’™';
                    codeChange = 'background: blue';
                } else if (lowerMessage.includes('ë¹¨ê°„') || lowerMessage.includes('red')) {
                    response = 'ë²„íŠ¼ ìƒ‰ìƒì„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤! â¤ï¸';
                    codeChange = 'background: red';
                } else if (lowerMessage.includes('í¬ê²Œ') || lowerMessage.includes('bigger')) {
                    response = 'ê¸€ì í¬ê¸°ë¥¼ í¬ê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤! ğŸ“';
                    codeChange = 'font-size: 24px';
                } else if (lowerMessage.includes('ë…¸ë€') || lowerMessage.includes('yellow')) {
                    response = 'ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤! ğŸ’›';
                    codeChange = 'background: yellow; color: black';
                }

                addMessage('ai', response);

                // ì½”ë“œ ì‹¤ì œ ë³€ê²½
                if (codeChange) {
                    const editor = document.getElementById('codeEditor');
                    let code = editor.value;
                    
                    if (lowerMessage.includes('ë°°ê²½') || lowerMessage.includes('background')) {
                        code = code.replace(/background:\s*[^;]+;/g, codeChange + ';');
                        code = code.replace(/body\s*{/, `body {
            ${codeChange};`);
                    } else if (lowerMessage.includes('ë²„íŠ¼')) {
                        code = code.replace(/\.demo-button\s*{[^}]*}/, 
                            `.demo-button {
            ${codeChange};
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }`);
                    } else if (lowerMessage.includes('ì œëª©') || lowerMessage.includes('h1')) {
                        code = code.replace(/h1\s*{[^}]*}/, 
                            `h1 {
            color: #333;
            margin-bottom: 20px;
            ${codeChange};
        }`);
                    }
                    
                    editor.value = code;
                    updatePreview();
                }
            }, 1000);
        }

        // Enter í‚¤ë¡œ ë©”ì‹œì§€ ì „ì†¡
        document.getElementById('chatInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>
</body>
</html>