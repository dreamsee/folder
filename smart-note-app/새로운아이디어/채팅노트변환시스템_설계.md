# 채팅→노트 변환 시스템 설계

## 💡 핵심 아이디어
"생각을 자유롭게 던지면 알아서 정리되는 눈치 있는 지식 비서"

## 🎯 사용자 경험 시나리오

### 시나리오 1: 급한 아이디어 메모
```
[채팅창]
사용자: "아 맞다 내일 회의때 이거 얘기해야되는데 
로그인 버그 수정하고 새 기능 UI도 논의하고
아 그리고 서버 비용도 체크해야됨"

↓ 드래그 앤 드롭 ↓

[정리된 노트]
📅 내일 회의 안건
✓ 로그인 버그 수정 현황
✓ 신규 기능 UI 디자인 검토  
✓ 서버 비용 최적화 방안
```

### 시나리오 2: 카톡 대화 정리
```
[카톡에서 복사한 대화]
"존: 그래서 언제 만나?
나: 3시 어때?  
존: ㅇㅇ 스벅에서 보자
나: 앱 디자인 가져와
존: ㅇㅋ"

↓ 붙여넣기 & 자동 변환 ↓

[일정 노트]
📅 오늘 3시 - 스타벅스
👥 참석: 존
📋 준비물: 앱 디자인 시안
```

## 🔄 변환 파이프라인

### 1단계: 입력 감지
```python
입력_타입_분석:
  - 대화형: 구어체, 반복, 감탄사
  - 메모형: 짧은 문장, 키워드 나열
  - 복사형: 타임스탬프, 발화자 구분
```

### 2단계: 의도 파악
```yaml
컨텍스트_분석:
  시간_표현: "내일", "3시" → 일정
  행동_동사: "해야됨", "논의" → 할일
  사람_이름: "존", "팀장" → 참석자
  장소_언급: "스벅", "회의실" → 위치
```

### 3단계: 구조화
```
자유_입력 → 핵심_추출 → 카테고리_분류 → 서식_적용
    ↓            ↓             ↓              ↓
 구어체      키워드化      유형 판단      깔끔한 노트
```

### 4단계: 스타일 적용
```typescript
interface 변환스타일 {
  비즈니스: "공식 문서 형태",
  개발자: "마크다운 + 코드블록",
  학생: "코넬식 노트 필기",
  일상: "일기장 스타일"
}
```

## 🎨 드래그 인터랙션 디자인

### 드래그 패턴 인식
```yaml
짧게_드래그 (< 200px):
  - 빠른 메모로 저장
  - 원본 그대로 보존
  
길게_드래그 (> 200px):
  - 상세 노트로 변환
  - 구조화 및 정리
  
원형_드래그:
  - 마인드맵 생성
  - 중심 주제 자동 추출
  
위로_드래그:
  - 중요 표시
  - 상단 고정
  
옆으로_드래그:
  - 카테고리 이동
  - 폴더 자동 분류
```

### 시각적 피드백
```css
.dragging {
  opacity: 0.7;
  transform: scale(0.95);
  cursor: grabbing;
}

.drop-zone-active {
  border: 2px dashed #4CAF50;
  background: rgba(76, 175, 80, 0.1);
}
```

## 🧠 눈치 시스템 구현

### 패턴 학습
```python
사용자_패턴_DB = {
  "회의록": {
    "구조": ["참석자", "안건", "결정사항"],
    "시간대": "평일 오전",
    "빈도": "주 2-3회"
  },
  "아이디어": {
    "구조": ["문제", "해결책", "실행계획"],
    "시간대": "저녁/주말",
    "트리거": ["아!", "만약", "이렇게"]
  }
}
```

### 실시간 제안
```typescript
실시간_분석() {
  if (입력.includes("회의")) {
    제안("이전 회의록 형식을 사용하시겠어요?");
  }
  
  if (시간 === "저녁" && 요일 === "금요일") {
    제안("주간 회고 작성하시나요?");
  }
}
```

## 🚀 기술 구현 방안

### Frontend 구조
```typescript
// 채팅 입력 컴포넌트
const ChatInput = () => {
  const [rawText, setRawText] = useState("");
  const { 변환, 제안 } = use변환엔진();
  
  const handleDrop = (e: DragEvent) => {
    const 변환결과 = 변환(rawText);
    노트생성(변환결과);
  };
}

// 드래그 가능한 메시지
const DraggableMessage = ({ message }) => {
  return (
    <div 
      draggable
      onDragStart={handleDragStart}
      className="message-bubble"
    >
      {message}
    </div>
  );
}
```

### 변환 엔진
```typescript
class 변환엔진 {
  private 패턴DB: PatternDatabase;
  private AI모델: LanguageModel;
  
  변환(input: string): Note {
    const 의도 = this.의도분석(input);
    const 구조 = this.구조추출(input, 의도);
    const 스타일 = this.스타일선택(의도);
    
    return this.노트생성(구조, 스타일);
  }
  
  의도분석(input: string): Intent {
    // 키워드 매칭 + AI 분석
    const keywords = this.키워드추출(input);
    const context = this.AI모델.분석(input);
    
    return this.의도판단(keywords, context);
  }
}
```

### 압축 저장
```typescript
interface 압축노트 {
  원본: string;      // 전체 텍스트
  압축: string;      // 핵심만 (90% 압축)
  메타: {
    키워드: string[];
    카테고리: string;
    중요도: number;
  };
}

// 압축 예시
압축(원본: "오늘 회의에서 논의한 신규 기능은...") {
  return {
    압축: "회의→신기능:A,B,C 결정:1주",
    확장가능: true
  };
}
```

## 🎯 차별화 포인트

### vs 기존 노트앱
- **기존**: 정리된 내용 입력 → 저장
- **우리**: 날것의 생각 → 자동 정리 → 깔끔한 노트

### vs AI 어시스턴트
- **AI**: "이렇게 정리해드릴까요?" (물어봄)
- **우리**: 드래그만 하면 알아서 (눈치)

### vs 음성 메모
- **음성**: 텍스트 변환만
- **우리**: 의미 파악 + 구조화 + 스타일링

## 📈 예상 효과

1. **생산성 향상**: 정리 시간 80% 절약
2. **기록 습관화**: 부담 없이 막 써도 OK
3. **지식 체계화**: 자동 분류로 찾기 쉬움
4. **개인화**: 사용할수록 똑똑해짐

## 🔧 구현 우선순위

### Phase 1: MVP (2주)
- [ ] 채팅 입력 UI
- [ ] 기본 드래그 앤 드롭
- [ ] 간단한 키워드 기반 변환
- [ ] 3가지 기본 템플릿

### Phase 2: 스마트 변환 (4주)
- [ ] 패턴 학습 시스템
- [ ] AI 의도 분석
- [ ] 다양한 드래그 제스처
- [ ] 실시간 제안

### Phase 3: 개인화 (6주)
- [ ] 사용자별 패턴 DB
- [ ] 스타일 학습
- [ ] 압축 저장
- [ ] 시각화

---
*"말하듯 쓰고, 드래그만 하면 끝"*